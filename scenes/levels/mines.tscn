[gd_scene load_steps=22 format=4 uid="uid://b53f7jdjgsyei"]

[ext_resource type="PackedScene" uid="uid://cnxm803p7w416" path="res://scenes/player.tscn" id="1_a5duw"]
[ext_resource type="Script" path="res://scripts/scene_portal.gd" id="2_gt4dp"]
[ext_resource type="Shader" path="res://scripts/shaders/outline.gdshader" id="4_leiy5"]
[ext_resource type="Shader" path="res://scripts/shaders/chromatic_shield.gdshader" id="5_f72ri"]
[ext_resource type="PackedScene" uid="uid://dph7cj8grvuk3" path="res://scenes/environments/mines/WoodenTunnelPiece.tscn" id="6_d4mq5"]
[ext_resource type="Texture2D" uid="uid://cdj403s1c7ugt" path="res://textures/environments/mines/Rocks_W.jpg" id="6_jp8qn"]
[ext_resource type="Texture2D" uid="uid://b6iipunkd7ul1" path="res://textures/environments/mines/MetalBare.jpg" id="7_l2qva"]
[ext_resource type="PackedScene" uid="uid://b7jtkr5ot3a2d" path="res://scenes/environments/mines/Elevator.tscn" id="7_u4jja"]
[ext_resource type="ArrayMesh" uid="uid://ct7bypoa03eal" path="res://objects/environments/light.obj" id="7_xvh3c"]
[ext_resource type="PackedScene" uid="uid://bdnc1rwfs4hcw" path="res://scenes/environments/mines/2WaySplit.tscn" id="8_hy6dm"]
[ext_resource type="Material" uid="uid://dgvj0p2osi6ma" path="res://textures/environments/mines/plastic.tres" id="11_islp4"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_uy1jb"]
sky_top_color = Color(0.0794473, 0.0518578, 0.00566415, 1)
sky_horizon_color = Color(0.599294, 0.581279, 0.55683, 1)
ground_bottom_color = Color(0.317729, 0.273259, 0.221657, 1)
ground_horizon_color = Color(0.599294, 0.581279, 0.55683, 1)

[sub_resource type="Sky" id="Sky_1vhit"]
sky_material = SubResource("ProceduralSkyMaterial_uy1jb")

[sub_resource type="Environment" id="Environment_67cbj"]
background_mode = 2
sky = SubResource("Sky_1vhit")
tonemap_mode = 2
glow_enabled = true
fog_enabled = true

[sub_resource type="ShaderMaterial" id="ShaderMaterial_lmf2e"]
render_priority = 0
shader = ExtResource("4_leiy5")
shader_parameter/outline_color = Color(0.274161, 0.252791, 0.694012, 1)
shader_parameter/outline_width = 0.03

[sub_resource type="ShaderMaterial" id="ShaderMaterial_ykkh4"]
render_priority = 0
next_pass = SubResource("ShaderMaterial_lmf2e")
shader = ExtResource("5_f72ri")
shader_parameter/warp_ScreenSpace = false
shader_parameter/texture_albedo = ExtResource("6_jp8qn")

[sub_resource type="TubeTrailMesh" id="TubeTrailMesh_sqlo0"]
radius = 3.0
radial_steps = 24
sections = 2
section_length = 0.1

[sub_resource type="CylinderShape3D" id="CylinderShape3D_c0kic"]
height = 0.5
radius = 3.0

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_1vmfc"]
albedo_texture = ExtResource("7_l2qva")
emission_enabled = true
emission = Color(0.0839486, 0.129025, 0.0796178, 1)

[sub_resource type="ArrayMesh" id="ArrayMesh_ru10i"]
_surfaces = [{
"aabb": AABB(-0.000191468, -0.001801, -0.0116695, 0.000382936, 0.00348195, 0.0233389),
"format": 34359742465,
"index_count": 156,
"index_data": PackedByteArray("AAABAAIAAgADAAAABAAFAAYABwAIAAIAAgABAAcACAADAAIABwAAAAMAAwAIAAcABQAJAAoACgAGAAUABAAGAAoACgALAAQACwAMAA0ADQAJAAsAAQAAAA0ADQAMAAEADQAOAAoACgAJAA0AAAAHAA4ADgANAAAADgAMAAsACwAKAA4ADgAHAAEAAQAMAA4ABAALAAkACQAFAAQADwAQABEAEQASAA8AEwAUABUAFgAXABEAEQAQABYAFwASABEAFgAPABIAEgAXABYAFQAUABgAGAAZABUAEwAVABkAGQAaABMAGgAbABwAHAAYABoAEAAPABwAHAAbABAAHAAdABkAGQAYABwADwAWAB0AHQAcAA8AHQAbABoAGgAZAB0AHQAWABAAEAAbAB0AEwAaABgAGAAUABMA"),
"lods": [0.000233994, PackedByteArray("AgADAAAAAgAAAAcABwAIAAIADgAHAAAAAAANAA4ADgANAAoADQAJAAoABAAKAAkABAAGAAoACQAFAAQABAAFAAYACAADAAIABwAAAAMAAwAIAAcAAAAHAA4ADgANAAAADQAOAAoACgAJAA0ABQAJAAoACgAGAAUAHAAdABoAHQAcABoAEAAcAB0AHQAcABAA"), 0.00108563, PackedByteArray("AgADAA0AAgANAAcABwAIAAIACgAHAA0ABAAKAA0ABAAGAAoADQAFAAQABAAFAAYACAADAAIABwANAAMAAwAIAAcADQAHAAoABQANAAoACgAGAAUA")],
"name": "Plastic",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 30,
"vertex_data": PackedByteArray("vMRIOTw5I7qo+dY78gxbrGhge7qBA9c78gxbrKnbsDpFMT88vMRIOWFT3DpFMT888gxbrJ/bsDpFMT+8vMRIOVdT3DpFMT+8vcRIuVdT3DpFMT+8vcRIuVU5I7qs+dY7vcRIuWFT3DpFMT88vMRIOWA5I7qp+da7vcRIuUY5I7qp+da78gxbrHNge7qBA9e78gxbrIgP7LoNqgOwu8RIOUOcwLoNqgOwvMRIuUOcwLrR/qUwu8RIOZKY/Tmo+dY77QxbrOYTpDmAA9c77QxbrKmiwjpFMT88u8RIOa602DpFMT887QxbrJ+iwjpEMT+8u8RIOaa02DpEMT+8vMRIuaa02DpEMT+8vMRIuXaY/Tmq+dY7vMRIua602DpFMT88u8RIOWSY/Tmp+da7vMRIuX2Y/Tmo+da77QxbrNITpDmBA9e77QxbrNxX8Lgp9g2wusRIOfZIYTg2AAywvMRIufZIYTi806Ew")
}]
blend_shape_mode = 0

[sub_resource type="ArrayMesh" id="ArrayMesh_6wxdo"]
resource_name = "Cables_01"
_surfaces = [{
"aabb": AABB(-0.000191468, -0.001801, -0.0116695, 0.000382936, 0.00348195, 0.0233389),
"attribute_data": PackedByteArray("+zvgPijQZL6DP80+GPJkvibJJz+ubUm/zyUxP65tSb8AAAA/um2wPrdnBT9otJ0+kjD1Pmi0nT7zO+A+QNBkvs8lMT+ubUm/kjD1PmK0nT63ZwU/YrSdPgAAAD+0bbA+kjD1PkDQZL63ZwU/KNBkvrdnBT+ubUm/kjD1Pq5tSb+3ZwU/17bkP7dnBT8Gmpw/kjD1PgaanD+SMPU+17bkPyPJJz/XtuQ/zCUxP9e25D/4O+A+BpqcP4E/zT5Enpw/YrSdPgIAAD/Ma7A+AgAAP/A74D4Gmpw/t2cFPwIAAD+SMPU++v//PsxrsD76//8+zCUxP9e25D+3ZwU/KNBkvgAAAD8Y8mS+AAAAP65tSb+3ZwU/rm1JvwAAAD8gmdc+t2cFP1gXzj6SMPU+WBfOPpIw9T4w0GS+kjD1Pq5tSb+SMPU+WBfOPrdnBT9YF84+AAAAPxyZ1z6SMPU+17bkP7dnBT/XtuQ/t2cFPweanD+SMPU+BpqcPwAAAD/XtuQ/AAAAP0SenD8AAAA/AgAAP7dnBT8CAAA/kjD1PgAAAD8="),
"format": 34359742487,
"index_count": 156,
"index_data": PackedByteArray("AAABAAIAAgADAAAABAAFAAYABwAIAAIAAgABAAcACQAKAAsADAANAA4ADgAPAAwAEAARABIAEgATABAAFAAVABYAFgAXABQAFwAYABkAGQAaABcAAQAAABkAGQAYAAEAGwAcABIAEgARABsADQAMABwAHAAbAA0AHQAYABcAFwAWAB0AHQAHAAEAAQAYAB0AFAAXABoAGgAeABQAHwAgACEAIQAiAB8AIwAkACUAJgAnACEAIQAgACYAKAApACoAJgAfACIAIgAnACYAKwAsAC0ALQAuACsALwArAC4ALgAwAC8AMAAxADIAMgAtADAAIAAfADIAMgAxACAAMgAzAC4ALgAtADIAHwAmADMAMwAyAB8AMwAxADAAMAAuADMAMwAmACAAIAAxADMALwAwAC0ALQAsAC8A"),
"lods": [0.000233994, PackedByteArray("AgADAAAAAgAAAAcABwAIAAIAHQAHAAAAAAAZAB0AHQAZABYAGQAaABYAFAAWABoAFAAVABYAGgAeABQABAAFAAYACQAKAAsADAANAA4ADgAPAAwADQAMABwAHAAbAA0AGwAcABIAEgARABsAEAARABIAEgATABAAMgAzADAAMwAyADAAIAAyADMAMwAyACAA"), 0.00108563, PackedByteArray("AgADABkAAgAZAAcABwAIAAIAFgAHABkAFAAWABkAFAAVABYAGQAeABQABAAFAAYACQAKAAsADAAbAA4ADgAPAAwAGwAMABIAEAAbABIAEgATABAA")],
"material": ExtResource("11_islp4"),
"name": "Plastic",
"primitive": 3,
"uv_scale": Vector4(0, 0, 0, 0),
"vertex_count": 52,
"vertex_data": PackedByteArray("vMRIOTw5I7qo+dY78gxbrGhge7qBA9c78gxbrKnbsDpFMT88vMRIOWFT3DpFMT888gxbrJ/bsDpFMT+8vMRIOVdT3DpFMT+8vcRIuVdT3DpFMT+8vcRIuVU5I7qs+dY7vcRIuWFT3DpFMT88vcRIuWFT3DpFMT88vMRIOWFT3DpFMT888gxbrKnbsDpFMT88vcRIuVU5I7qs+dY7vMRIOTw5I7qo+dY7vMRIOWFT3DpFMT88vcRIuWFT3DpFMT88vMRIOVdT3DpFMT+8vMRIOWA5I7qp+da7vcRIuUY5I7qp+da7vcRIuVdT3DpFMT+88gxbrJ/bsDpFMT+8vcRIuVdT3DpFMT+8vcRIuUY5I7qp+da78gxbrHNge7qBA9e78gxbrIgP7LoNqgOwu8RIOUOcwLoNqgOwvMRIOWA5I7qp+da7u8RIOUOcwLoNqgOwvMRIuUOcwLrR/qUwvMRIuUOcwLrR/qUwvMRIOVdT3DpFMT+8u8RIOZKY/Tmo+dY77QxbrOYTpDmAA9c77QxbrKmiwjpFMT88u8RIOa602DpFMT887QxbrJ+iwjpEMT+8u8RIOaa02DpEMT+8vMRIuaa02DpEMT+8vMRIuXaY/Tmq+dY7vMRIua602DpFMT88vMRIua602DpFMT88u8RIOa602DpFMT887QxbrKmiwjpFMT88vMRIuaa02DpEMT+8u8RIOaa02DpEMT+8u8RIOWSY/Tmp+da7vMRIuX2Y/Tmo+da77QxbrJ+iwjpEMT+87QxbrNITpDmBA9e77QxbrNxX8Lgp9g2wusRIOfZIYTg2AAywvMRIufZIYTi806EwwtqArrlcJOj/f5EaEy1SO/9/SkBKUZUrm7PCqhg7J/q1PwAA/v//PzvVY8zhtnZUwypjzBHXcRs8JYCuRaPaF2NMwqrmxNcFY0zCquG2dtSbs8KqEddwm/9/SkD+//+/PCWAri+26BHC2oCu0KPnZJuzwqoR145kY0zCquG2iCs71WPM4bZ2VH3RPKUvthZugS48pdCjFxvDKmPMEddxG7U/AAAq16TowypjzK6LcyKBLjylta+iEW5lAACj9onW/38AAAAA/z+G1Xeqh1XC6n3RPKVJUFzuhtV3qneqw2p4Kneqd6o8FXgqd6p3qjwVO9VjzFB0i93C4R+iyJz0a/9/5A/+//+//3+ZPP7//7/YunieptwaaGVDAAD+//8/heElxcmvrFF5HiXFptzkFzweH6KvWm2OJkV4nsmvUy4mRXieya+r0di6eJ6m3OSX/3+ZPP7//795HiXFJM8PiIXhJcUekGzY3t08nq9akPEgIjyeImOnkmVDAAD+//+/G3AAAP7//7//fwAA////v7TfSqBKoNpvSiBKoLRfJJA=")
}]
blend_shape_mode = 0
shadow_mesh = SubResource("ArrayMesh_ru10i")

[node name="Mines" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866023, -0.433016, 0.250001, 0, 0.499998, 0.866027, -0.500003, 0.749999, -0.43301, 0, 0, 0)
light_color = Color(0.60932, 0.323832, 2.88785e-07, 1)
light_energy = 0.05
shadow_enabled = true

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_67cbj")

[node name="Player" parent="." instance=ExtResource("1_a5duw")]
transform = Transform3D(0.977677, 0, 0.210113, 0, 1, 0, -0.210113, 0, 0.977677, 0.329864, 0.238995, 0.152375)

[node name="HomePortal" type="Area3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.45068, 2.43945, -57.7149)
script = ExtResource("2_gt4dp")
metadata/_edit_group_ = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="HomePortal"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
material_override = SubResource("ShaderMaterial_ykkh4")
mesh = SubResource("TubeTrailMesh_sqlo0")
skeleton = NodePath("")

[node name="CollisionShape3D" type="CollisionShape3D" parent="HomePortal"]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0, 0, 0)
shape = SubResource("CylinderShape3D_c0kic")

[node name="StartingTunnel" type="Node3D" parent="."]

[node name="WoodenTunnelPiece" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]

[node name="WoodenTunnelPiece2" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -4.9136)

[node name="WoodenTunnelPiece3" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -9.65895)

[node name="WoodenTunnelPiece4" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -14.3525)

[node name="WoodenTunnelPiece5" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -19.2661)

[node name="WoodenTunnelPiece6" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -24.0114)

[node name="WoodenTunnelPiece7" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -28.7781)

[node name="WoodenTunnelPiece8" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -33.6917)

[node name="WoodenTunnelPiece9" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -38.437)

[node name="WoodenTunnelPiece10" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -42.9438)

[node name="WoodenTunnelPiece11" parent="StartingTunnel" instance=ExtResource("6_d4mq5")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -47.8574)

[node name="Light" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -0.0651101, 2.51737, 0.168708)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.552507, 0.481575, 0.118728, 1)
distance_fade_enabled = true

[node name="Light6" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -0.0651101, 3.46497, 12.3761)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light6"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.868204, 0.762376, 0.228002, 1)
light_energy = 3.59
distance_fade_enabled = true

[node name="Light2" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.1, 0, 0, 0, 0.1, 0, 0, 0, 0.1, -0.0651101, 2.41841, -17.0128)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light2"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.552507, 0.481575, 0.118728, 1)

[node name="Light3" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.0998892, -0.00470056, -0.00021378, 0.00470542, 0.0997861, 0.00453824, 0, -0.00454327, 0.0998967, -0.0651101, 2.51737, -33.4766)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light3"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.552507, 0.481575, 0.118728, 1)

[node name="Light4" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.0980867, -0.0194679, 0, 0.0194679, 0.0980867, 0, 0, 0, 0.1, -1.11119, 2.58052, -50.0608)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light4"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.552507, 0.481575, 0.118728, 1)

[node name="Light5" type="MeshInstance3D" parent="StartingTunnel"]
transform = Transform3D(0.0994098, 0.0108485, 0, -0.0108485, 0.0994098, 0, 0, 0, 0.1, 0.99898, 2.68495, -50.0608)
material_override = SubResource("StandardMaterial3D_1vmfc")
mesh = ExtResource("7_xvh3c")

[node name="OmniLight3D" type="OmniLight3D" parent="StartingTunnel/Light5"]
transform = Transform3D(10, 0, 0, 0, 10, 0, 0, 0, 10, 0.433928, 1.14236, -0.029472)
light_color = Color(0.552507, 0.481575, 0.118728, 1)

[node name="StaticBody3D" parent="." instance=ExtResource("7_u4jja")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.0181279, 0.182594, 12.4067)

[node name="2WaySplit" parent="." instance=ExtResource("8_hy6dm")]
transform = Transform3D(1, 0, 0, 0, -4.37114e-08, -1, 0, 1, -4.37114e-08, 0.169307, 1.80365, -54.7611)

[node name="Cables_01" type="MeshInstance3D" parent="."]
transform = Transform3D(99.9702, 0.0244322, 0, -2.44322, 0.999701, 0, 0, 0, 2600, 0.115202, 3.05076, -19.7419)
mesh = SubResource("ArrayMesh_6wxdo")
skeleton = NodePath("")
